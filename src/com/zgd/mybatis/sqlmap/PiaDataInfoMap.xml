<?xml version="1.0" encoding="UTF-8"?>  
<!DOCTYPE mapper PUBLIC "-//ibatis.apache.org//DTD Mapper 3.0//EN" "http://ibatis.apache.org/dtd/ibatis-3-mapper.dtd">  
  
<mapper namespace="com.zgd.mybatis.dao.PiaDataInfoMapper">  
  
<select id="getPiaDataInfoList" parameterType="PiaDataInfo" resultType="PiaDataInfo">
	SELECT
		playDate,
		taiNo,
		rate,
		bonusCount,
		ballOutput,
		totalOut,
		rateN,
		bonusCountN,
		ballOutputN,
		playDateN,
		totalOutN
	FROM
		v_satama_by_d_t
	WHERE
		taiNo = #{taiNo}
	<if test="playDate != null and playDate > 0">
		AND playDate = #{playDate}
	</if>
	ORDER BY playDate ASC;

</select>  

<insert id="insertPiaDataInfo" parameterType="PiaDataInfo">
	INSERT INTO 
		piainfo(playDate,taiNo,rate,bonusCount,ballOutput)
	VALUES(#{playDate},#{taiNo},#{rate},#{bonusCount},#{ballOutput})
</insert>
<update id="updatePiaDataInfo" parameterType="PiaDataInfo" >
	UPDATE
		piainfo
	SET
		rate = #{rate},
		bonusCount = #{bonusCount},
		ballOutput = #{ballOutput}
	WHERE
		playDate = #{playDate}
	AND
		taiNo = #{taiNo}
</update>
<delete id="deletePiaDataInfo" parameterType="PiaDataInfo" >
  DELETE FROM piainfo 
  WHERE
  	playDate = #{playDate}
  AND
  	taiNo = #{taiNo}
</delete>
</mapper>